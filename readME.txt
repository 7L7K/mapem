_______________________
Version 2.0
_______________________
this is everything tTH we did to take it from 1.9 to v2


# ğŸ—ºï¸ MapEm â€” Genealogy Mapping & Migration Visualizer

> â€œTurn messy GEDCOM data into a clean, animated story of family migration.â€

MapEm ingests GEDCOM files, normalizes the data, stores it in PostgreSQL, and gives you a slick React UI (Vite) to explore maps, timelines, and diff views of multiple tree versions.

---

## 1. Quick Start (Dev)

```bash
# 1. Clone + enter
git clone <yourâ€‘fork>
cd mapem

# 2. Spin everything up
./scripts/run_all.sh
# â†³ Starts Postgres (if not already), installs Python deps, fires Flask (port 5050), and launches Vite (port 5173)

# 3. Visit the UI
open http://localhost:5173
Headsâ€‘up: Default DB creds live in backend/.flaskenv.
Change them or export your own env vars before running if you need something custom.
2. Project History & Reâ€‘Org

2.0 â†’ 2.1 â€œThe Clean Upâ€
ğŸ”´ Old (preâ€‘2.1)	âœ… New (2.1+)
Nested frontend/genealogy-frontend/ buried the real app.	Promoted to /frontend rootâ€”no more double React roots.
Duplicate .env, package.json, and stray build/ folder.	Single source of truth; dead artifacts deleted.
Python scripts hiding in React src/.	All helper scripts live in /scripts (or /scripts/dev for oneâ€‘offs).
Root littered with throwaway tools (dump_react_files_for_vite.py, etc.).	Archived or moved; root now shows only living code.
Backend files mixed flat (parser.py, main.py) next to folders.	Proper Flask layout under backend/app/ (models/, routes/, services/, utils/).
Docs scattered (Notes.txt).	Consolidated into this README + docs/ (future).
3. Folder Structure

mapem/
â”œâ”€â”€ frontend/            # React 19 + Vite UI
â”‚   â”œâ”€â”€ .env             # UIâ€‘only vars
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ context/     # React Context (TreeContext)
â”‚   â”‚   â”œâ”€â”€ services/    # API wrappers
â”‚   â”‚   â”œâ”€â”€ styles/      # Plain CSS modules
â”‚   â”‚   â””â”€â”€ views/       # Feature folders (Map, Tree, People, Upload, ui/)
â”‚   â””â”€â”€ vite.config.js
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ .flaskenv        # Flask & DB env
â”‚   â”œâ”€â”€ main.py          # App factory
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ schema.sql       # (Generated by `scan_schema.py`)
â”‚   â””â”€â”€ app/
â”‚       â”œâ”€â”€ models/
â”‚       â”œâ”€â”€ routes/
â”‚       â”œâ”€â”€ services/
â”‚       â””â”€â”€ utils/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ run_all.sh       # Master dev launcher
â”‚   â”œâ”€â”€ reset_db.py
â”‚   â”œâ”€â”€ fix_imports.py
â”‚   â”œâ”€â”€ check_dependencies.py
â”‚   â”œâ”€â”€ env_check.sh
â”‚   â”œâ”€â”€ list_files.sh
â”‚   â””â”€â”€ dev/             # Oneâ€‘off helpers (cat_backend_files.py, etc.)
â”œâ”€â”€ frontend-backup.zip  # v1 UI snapshot
â””â”€â”€ mapem_v1.zip         # Preâ€‘cleanup archive
4. API Endpoints (Flask, portÂ 5050)

Method	Route	Purpose
POST	/api/upload	Upload a GEDCOM file.
GET	/api/people/:id	Fetch an individual record.
GET	/api/map/:tree_id	GeoJSON of migration events.
GET	/api/timeline/:tree_id	Chronological life events.
GET	/api/diff?new_id=&existing_id=	Compare two tree versions.
GET	/api/schema	Introspect DB schema (dev helper).
(Full docs coming in /docs/api.md soon.)
5. Common Dev Commands

Task	Command
Lint frontend	npm run lint (inside frontend/)
Build frontend	npm run build
Run Flask only	python -m backend.main
Run unit tests (coming soon)	pytest
Reâ€‘generate DB schema.sql	python backend/scan_schema.py > backend/schema.sql
Zip current project snapshot	python scripts/collect_code.sh
6. Roadmap

 Add Cypress endâ€‘toâ€‘end tests.
 OAuth login (Google + GitHub).
 Serverâ€‘side tree diff algorithm (move heavy compare off client).
 Automatic geocoding retry queue.
 Darkâ€‘mode UI toggle (because, vibes).
7. Contributing

PRs welcomeâ€”just follow the lint rules and keep commit messages Imperativeâ€‘Present:
chore: bump React to 19.0.2
feat: add residence history endpoint
fix: null birth_date crash on timeline
8. License

MIT Â© 2025 King Algevon Eichelberger Jr.
âœŠğŸ¾ Big shoutâ€‘out to everyone helping MapEm find the stories hidden in our family trees.

---

### Need anything tweaked?

* Want badges (CI, coverage, license) up top?  
* Prefer a diagram of the data flow?  
* Need deployment docs (Render, Fly, Heroku)?  

Just holler and weâ€™ll tighten it up.